{
  "$schema": "https://turbo.build/schema.json",
  "tasks": {
    "build": {
      "dependsOn": ["^build"],
      "outputs": ["www/**", "dist/**", ".angular/**"],
      "inputs": [
        "src/**",
        "angular.json",
        "tsconfig*.json",
        "tailwind.config.js",
        "postcss.config.js"
      ]
    },
    "build:prod": {
      "dependsOn": ["^build"],
      "outputs": ["www/**", ".angular/**"],
      "inputs": [
        "src/**",
        "angular.json",
        "tsconfig*.json",
        "tailwind.config.js",
        "postcss.config.js"
      ]
    },
    "build:mock": {
      "dependsOn": ["^build"],
      "outputs": ["www/**", ".angular/**"],
      "inputs": [
        "src/**",
        "angular.json",
        "tsconfig*.json",
        "src/environments/environment.mock.ts",
        "tailwind.config.js"
      ]
    },
    "build:heroku": {
      "dependsOn": ["^build"],
      "outputs": ["www/**", ".angular/**"],
      "inputs": [
        "src/**",
        "angular.json",
        "tsconfig*.json",
        "src/environments/environment.heroku.ts",
        "tailwind.config.js"
      ]
    },
    "build:analyze": {
      "dependsOn": ["^build"],
      "outputs": ["www/**", "dist/stats.json"],
      "inputs": ["src/**", "angular.json", "tsconfig*.json"]
    },
    "mobile:sync": {
      "dependsOn": ["build:heroku"],
      "outputs": ["android/**", "ios/**"],
      "inputs": ["www/**", "capacitor.config.ts"]
    },
    "mobile:build": {
      "dependsOn": ["mobile:sync"],
      "outputs": ["android/app/build/outputs/apk/**"],
      "inputs": ["android/**", "!android/build/**", "!android/.gradle/**"]
    },
    "mobile:build:release": {
      "dependsOn": ["mobile:sync"],
      "outputs": ["android/app/build/outputs/apk/release/**"],
      "inputs": ["android/**", "!android/build/**", "!android/.gradle/**"]
    },
    "test": {
      "outputs": ["coverage/**"],
      "inputs": ["src/**/*.ts", "src/**/*.spec.ts", "vitest.config.ts", "src/setup-vitest.ts"]
    },
    "test:watch": {
      "cache": false,
      "persistent": true
    },
    "test:coverage": {
      "outputs": ["coverage/**"],
      "inputs": ["src/**/*.ts", "src/**/*.spec.ts", "vitest.config.ts", "src/setup-vitest.ts"]
    },
    "test:ui": {
      "cache": false,
      "persistent": true
    },
    "test:ci": {
      "outputs": ["coverage/**", "test-results/**", "junit.xml"],
      "inputs": ["src/**/*.ts", "src/**/*.spec.ts", "vitest.config.ts", "src/setup-vitest.ts"]
    },
    "test:e2e": {
      "dependsOn": ["build"],
      "outputs": ["playwright-report/**", "test-results/**", "playwright/artifacts/**"],
      "inputs": ["playwright/**", "playwright.config.ts", "www/**"]
    },
    "test:e2e:headed": {
      "dependsOn": ["build"],
      "cache": false,
      "outputs": ["playwright-report/**", "test-results/**"],
      "inputs": ["playwright/**", "playwright.config.ts", "www/**"]
    },
    "test:a11y": {
      "dependsOn": ["build"],
      "outputs": ["playwright-report/**", "test-results/**"],
      "inputs": ["playwright/tests/accessibility-audit.spec.ts", "playwright.config.ts", "www/**"]
    },
    "test:mobile": {
      "dependsOn": ["mobile:build", "test:e2e"],
      "cache": false
    },
    "lint": {
      "outputs": [],
      "inputs": ["src/**/*.ts", "src/**/*.js", "src/**/*.html", "eslint.config.js"]
    },
    "lint:styles": {
      "outputs": [],
      "inputs": ["src/**/*.scss", "src/**/*.css", ".stylelintrc.json"]
    },
    "lint:fix": {
      "outputs": [],
      "inputs": ["src/**/*.ts", "src/**/*.js", "src/**/*.html", "eslint.config.js"],
      "cache": false
    },
    "format": {
      "outputs": [],
      "inputs": ["src/**", "playwright/**", "scripts/**", ".prettierrc.json", ".prettierignore"],
      "cache": false
    },
    "format:check": {
      "outputs": [],
      "inputs": ["src/**", "playwright/**", "scripts/**", ".prettierrc.json", ".prettierignore"]
    },
    "quality": {
      "dependsOn": ["lint", "test"],
      "outputs": []
    },
    "analyze:dead-code": {
      "outputs": [],
      "inputs": ["src/**/*.ts", "knip.json", "tsconfig*.json"]
    },
    "analyze:circular": {
      "outputs": [],
      "inputs": ["src/**/*.ts", "tsconfig*.json"]
    },
    "analyze:complexity": {
      "outputs": [],
      "inputs": ["src/**/*.ts", "!src/**/*.spec.ts"]
    },
    "analyze:duplication": {
      "outputs": ["reports/jscpd/**"],
      "inputs": ["src/**/*.ts", "src/**/*.js", ".jscpd.json"]
    },
    "analyze:type-coverage": {
      "outputs": [],
      "inputs": ["src/**/*.ts", "tsconfig*.json"]
    },
    "analyze:bundle": {
      "dependsOn": ["build:prod"],
      "outputs": ["reports/bundle-analysis.json"],
      "inputs": ["dist/diabetify/browser/stats.json"]
    },
    "analyze:all": {
      "dependsOn": [
        "analyze:dead-code",
        "analyze:circular",
        "analyze:complexity",
        "analyze:duplication",
        "analyze:type-coverage"
      ],
      "outputs": []
    },
    "fix:dead-code": {
      "cache": false,
      "outputs": [],
      "inputs": ["src/**/*.ts", "knip.json"]
    },
    "fix:deps": {
      "cache": false,
      "outputs": ["package.json", "pnpm-lock.yaml"],
      "inputs": ["package.json"]
    },
    "fix:deps:check": {
      "outputs": [],
      "inputs": ["package.json"]
    },
    "fix:audit": {
      "cache": false,
      "outputs": ["pnpm-lock.yaml"],
      "inputs": ["package.json", "pnpm-lock.yaml"]
    },
    "i18n:check": {
      "outputs": [],
      "inputs": ["src/assets/i18n/*.json", "scripts/check-i18n-missing.js"]
    },
    "docs:sync": {
      "outputs": [],
      "inputs": ["docs/**/*.md", "CLAUDE.md", "scripts/sync-docs.mjs"],
      "cache": false
    }
  }
}

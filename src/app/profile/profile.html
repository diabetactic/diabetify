<ion-header>
  <ion-toolbar color="primary">
    <ion-title>{{ 'tabs.profile' | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="profile-content" [fullscreen]="true">
  <div class="page-shell flex flex-col gap-4 pb-8 pt-6">
    <app-profile-header
      [profile]="profile"
      [authState]="authState"
      (avatarSelected)="onAvatarSelected($event)"
      (editProfile)="editProfile()"
    ></app-profile-header>

    <app-profile-form
      [profile]="profile"
      (editAge)="editAge()"
      (goToAchievements)="goToAchievements()"
    ></app-profile-form>

    <app-profile-preferences
      [currentTheme]="currentTheme"
      [currentLanguage]="currentLanguage"
      [currentGlucoseUnit]="currentGlucoseUnit"
      [notificationsEnabled]="notificationsEnabled"
      (notificationsToggle)="onNotificationsToggle($event)"
      (testNotification)="onTestNotification()"
      (goToSettings)="goToSettings()"
    ></app-profile-preferences>

    <app-profile-actions (signOut)="onSignOut()"></app-profile-actions>
  </div>
</ion-content>

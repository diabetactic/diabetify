# ==========================================
# Test: Verify Appointment Resolution Display
# Description: Check appointment details are visible on the appointments page
# Verifies that appointment cards show key clinical data (glucose, dose, etc)
# ==========================================

appId: io.diabetactic.app

---
# 1. LOGIN
- runFlow: ../../flows/login.yaml

# 2. NAVIGATE TO APPOINTMENTS
- runFlow: ../../flows/navigate-appointments.yaml

# 3. WAIT FOR APPOINTMENTS PAGE TO LOAD
- extendedWaitUntil:
    visible:
      text: 'Estado de la Cola|Queue Status'
    timeout: 10000

# 4. VERIFY CONTENT SECTION EXISTS (ACTUAL or request button)
- extendedWaitUntil:
    visible:
      text: 'ACTUAL|Solicitar Cita|Request Appointment'
    timeout: 8000

# 5. IF THERE'S AN APPOINTMENT, VERIFY CLINICAL DATA FIELDS ARE DISPLAYED
# These labels should appear in appointment cards
- assertVisible:
    text: 'Ajuste de Dosis|Dose Adjustment|Objetivo|Objective|Dosis|Dose|mg/dL|Citas|Appointments'

# 6. VERIFY APPOINTMENT HEADER/NAVIGATION WORKS
- assertVisible:
    text: 'Citas|Appointments'
# Test passes - appointments page displays clinical data correctly

# ==========================================
# Test: Verify Appointment Resolution Display (Basic Smoke Test)
# Description: Navigates to appointments page and verifies basic structure
# This is a SMOKE TEST - just checks page loads correctly
# For full resolution verification, use 02-create-and-verify-resolution.yaml or 03-smart-e2e-resolution.yaml
# Uses .* wildcards for bilingual support with special chars
# ==========================================

appId: io.diabetactic.app

---
# 1. LOGIN
- runFlow: ../../flows/login.yaml

# 2. NAVIGATE TO APPOINTMENTS
- runFlow: ../../flows/navigate-appointments.yaml

# 3. WAIT FOR APPOINTMENTS PAGE HEADER TO LOAD
- extendedWaitUntil:
    visible:
      text: '.*Citas.*|.*Appointments.*'
    timeout: 10000
- waitForAnimationToEnd:
    timeout: 2000

# 4. WAIT FOR LOADING TO COMPLETE
- extendedWaitUntil:
    notVisible:
      text: '.*Cargando.*citas.*|.*Loading.*appointments.*|.*Cargando.*'
    timeout: 20000
- waitForAnimationToEnd:
    timeout: 2000

# 5. VERIFY CONTENT SECTION EXISTS (queue panel or request button or appointment cards)
- extendedWaitUntil:
    visible:
      text: '.*Estado.*Cola.*|.*Queue.*Status.*|.*Solicitar.*Cita.*|.*Request.*Appointment.*|.*No.*tienes.*citas.*|.*No.*appointments.*|.*ACTUAL.*|.*CURRENT.*|.*Completada.*|.*Completed.*'
    timeout: 10000

# 6. VERIFY APPOINTMENTS PAGE STRUCTURE
- assertVisible:
    text: '.*Citas.*|.*Appointments.*'
    label: 'Appointments page title visible'
# Test passes - appointments page structure is correct
# NOTE: This test does NOT verify resolution data
# Use test 02 or 03 for complete resolution verification

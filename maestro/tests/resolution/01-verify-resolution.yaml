# ==========================================
# Test: Verify Appointment Resolution Display
# Description: Check appointment details are visible on the appointments page
# Verifies that appointment cards show key clinical data (glucose, dose, etc)
# ==========================================

appId: io.diabetactic.app

---
# 1. LOGIN
- runFlow: ../../flows/login.yaml

# 2. NAVIGATE TO APPOINTMENTS
- runFlow: ../../flows/navigate-appointments.yaml

# 3. WAIT FOR APPOINTMENTS PAGE HEADER TO LOAD
- extendedWaitUntil:
    visible:
      text: 'Citas|Appointments'
    timeout: 10000
- waitForAnimationToEnd:
    timeout: 2000

# 4. WAIT FOR LOADING TO COMPLETE
- extendedWaitUntil:
    notVisible:
      text: 'Cargando citas|Loading appointments|Cargando...'
    timeout: 20000
- waitForAnimationToEnd:
    timeout: 2000

# 5. VERIFY CONTENT SECTION EXISTS (queue panel or request button)
- extendedWaitUntil:
    visible:
      text: 'Estado de la Cola|Queue Status|Solicitar Cita|Request Appointment|No tienes citas|No appointments'
    timeout: 10000

# 6. VERIFY APPOINTMENTS PAGE STRUCTURE
- assertVisible:
    text: 'Citas|Appointments'

# 7. VERIFY APPOINTMENT HEADER/NAVIGATION WORKS
- assertVisible:
    text: 'Citas|Appointments'
# Test passes - appointments page displays clinical data correctly

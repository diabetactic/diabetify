# ==========================================
# Test: Full Feature Navigation & Check
# Description: Navigates through all main tabs and checks key UI elements
# Covers: Dashboard, Readings, Appointments, Profile
# Uses .* wildcards for bilingual support
# ==========================================

appId: io.diabetactic.app

---
# 1. LOGIN (Smart launch + form entry)
- runFlow: ../flows/login-smart.yaml

# 2. CHECK DASHBOARD (Default tab)
- extendedWaitUntil:
    visible:
      text: '.*Panel.*Control.*|.*Tu.*Racha.*|.*Racha.*'
    timeout: 10000
- assertVisible:
    text: '.*mg/dL.*'
- assertVisible:
    text: '.*Tiempo.*Rango.*|.*Time.*Range.*'

# 3. NAVIGATE TO READINGS
- tapOn:
    id: 'tab-button-readings'
- extendedWaitUntil:
    visible:
      text: '.*Lecturas.*|.*Readings.*'
    timeout: 5000
- assertVisible:
    text: '.*A.*n.*No.*Hay.*Lecturas.*|.*No.*readings.*|.*Mostrando.*|.*Showing.*'

# 4. NAVIGATE TO APPOINTMENTS
- tapOn:
    id: 'tab-appointments'
- extendedWaitUntil:
    visible:
      text: '.*Citas.*|.*Appointments.*'
    timeout: 5000
- assertVisible:
    text: '.*Pr.*ximas.*Citas.*|.*Upcoming.*'

# 5. NAVIGATE TO PROFILE
- tapOn:
    id: 'tab-button-profile'
- extendedWaitUntil:
    visible:
      text: '.*Perfil.*|.*Profile.*|.*Sofia.*'
    timeout: 5000
- assertVisible:
    text: '.*EDITAR.*PERFIL.*|.*EDIT.*PROFILE.*'

# 6. RETURN TO DASHBOARD
- tapOn:
    id: 'tab-button-dashboard'
- extendedWaitUntil:
    visible:
      text: '.*Panel.*Control.*'
    timeout: 5000

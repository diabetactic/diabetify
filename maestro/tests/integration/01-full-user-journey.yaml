appId: io.diabetactic.app
tags:
  - integration
  - e2e
  - critical
  - smoke
---
# Test: Complete user journey
# Uses COORDINATE-BASED selectors

- waitForAnimationToEnd:
    timeout: 5000

- takeScreenshot: maestro/screenshots/journey-01-welcome.png

# Step 1: Login
- runFlow:
    file: ../../flows/auth/login.yaml

- takeScreenshot: maestro/screenshots/journey-02-logged-in.png

# Step 2: Add glucose reading
- tapOn:
    point: "30%,97%"
- waitForAnimationToEnd:
    timeout: 3000

- tapOn:
    point: "50%,90%"
- waitForAnimationToEnd:
    timeout: 3000

- tapOn:
    point: "50%,35%"
- eraseText
- inputText: "115"
- hideKeyboard

- tapOn:
    point: "50%,85%"
- waitForAnimationToEnd:
    timeout: 5000

- takeScreenshot: maestro/screenshots/journey-03-reading-added.png

# Step 3: View readings list
- takeScreenshot: maestro/screenshots/journey-04-readings-list.png

# Step 4: Check appointments
- tapOn:
    point: "70%,97%"
- waitForAnimationToEnd:
    timeout: 3000

- takeScreenshot: maestro/screenshots/journey-05-appointments.png

# Step 5: Go to profile and toggle theme
- tapOn:
    point: "90%,97%"
- waitForAnimationToEnd:
    timeout: 3000

- runFlow:
    file: ../../flows/toggle-theme.yaml

- takeScreenshot: maestro/screenshots/journey-06-theme-toggled.png

# Step 6: Return to dashboard
- tapOn:
    point: "10%,97%"
- waitForAnimationToEnd:
    timeout: 3000

- takeScreenshot: maestro/screenshots/journey-07-dashboard-final.png

# Step 7: Logout
- tapOn:
    point: "90%,97%"
- waitForAnimationToEnd:
    timeout: 3000

- runFlow:
    file: ../../flows/logout.yaml

- takeScreenshot: maestro/screenshots/journey-08-logged-out.png

# CLEANUP
- stopApp

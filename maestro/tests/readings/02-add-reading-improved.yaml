appId: io.diabetactic.app
tags:
  - readings
  - smoke
  - crud
  - mock
---
# Test: Add glucose reading with improved patterns
# Uses COORDINATE-BASED selectors (WebView text not accessible)

# Login
- runFlow:
    file: ../../flows/auth/login.yaml

# Navigate to Readings tab (30% from left)
- tapOn:
    point: "30%,97%"
- waitForAnimationToEnd:
    timeout: 3000

- takeScreenshot: maestro/screenshots/readings/02-reading-improved-01-list.png

# Tap FAB to add reading
- tapOn:
    point: "50%,90%"
- waitForAnimationToEnd:
    timeout: 3000

# Fill glucose value
- tapOn:
    point: "50%,35%"
- eraseText
- inputText: "120"
- hideKeyboard

- waitForAnimationToEnd:
    timeout: 2000

# Save reading
- tapOn:
    point: "50%,85%"
- waitForAnimationToEnd:
    timeout: 5000

- takeScreenshot: maestro/screenshots/readings/02-reading-improved-02-saved.png

# Navigate to dashboard to verify stats update
- tapOn:
    point: "10%,97%"
- waitForAnimationToEnd:
    timeout: 3000

- takeScreenshot: maestro/screenshots/readings/02-reading-improved-03-dashboard.png

# CLEANUP
- stopApp

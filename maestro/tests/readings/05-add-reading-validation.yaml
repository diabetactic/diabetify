appId: io.diabetactic.app
tags:
  - readings
  - validation
  - forms
---
# Test: Glucose reading validation
# Uses COORDINATE-BASED selectors

# Login
- runFlow:
    file: ../../flows/auth/login.yaml

# Navigate to Dashboard
- tapOn:
    point: "10%,97%"
- waitForAnimationToEnd:
    timeout: 3000

- takeScreenshot: maestro/screenshots/validation-01-dashboard.png

# Open add reading (tap FAB or + in center of tab bar)
- tapOn:
    point: "50%,97%"
- waitForAnimationToEnd:
    timeout: 3000

- takeScreenshot: maestro/screenshots/validation-02-modal-opened.png

# Test 1: Empty value submission - tap input and clear
- tapOn:
    point: "50%,35%"
- eraseText
- hideKeyboard

# Try to save without value
- tapOn:
    point: "50%,85%"
- waitForAnimationToEnd:
    timeout: 3000

- takeScreenshot: maestro/screenshots/validation-03-empty-value.png

# Test 2: Invalid value - Zero
- tapOn:
    point: "50%,35%"
- eraseText
- inputText: "0"
- hideKeyboard

- tapOn:
    point: "50%,85%"
- waitForAnimationToEnd:
    timeout: 3000

- takeScreenshot: maestro/screenshots/validation-04-zero-value.png

# Test 3: Valid normal value (should succeed)
- tapOn:
    point: "50%,35%"
- eraseText
- inputText: "120"
- hideKeyboard

- tapOn:
    point: "50%,85%"
- waitForAnimationToEnd:
    timeout: 5000

- takeScreenshot: maestro/screenshots/validation-05-valid-success.png

# Navigate back to dashboard
- tapOn:
    point: "10%,97%"
- waitForAnimationToEnd:
    timeout: 3000

# CLEANUP
- stopApp

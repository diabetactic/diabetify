appId: io.diabetactic.app
tags:
  - readings
  - crud
---
# Test: Add readings and verify dashboard stats update
# Uses COORDINATE-BASED selectors

# Login
- runFlow:
    file: ../../flows/auth/login.yaml

# Navigate to Dashboard and capture initial stats
- tapOn:
    point: "10%,97%"
- waitForAnimationToEnd:
    timeout: 3000
- takeScreenshot: maestro/screenshots/stats-01-initial.png

# Add first reading (low - 70)
- tapOn:
    point: "30%,97%"
- waitForAnimationToEnd:
    timeout: 3000
- tapOn:
    point: "50%,90%"
- waitForAnimationToEnd:
    timeout: 3000
- tapOn:
    point: "50%,35%"
- eraseText
- inputText: "70"
- hideKeyboard
- tapOn:
    point: "50%,85%"
- waitForAnimationToEnd:
    timeout: 3000

# Add second reading (normal - 100)
- tapOn:
    point: "50%,90%"
- waitForAnimationToEnd:
    timeout: 3000
- tapOn:
    point: "50%,35%"
- eraseText
- inputText: "100"
- hideKeyboard
- tapOn:
    point: "50%,85%"
- waitForAnimationToEnd:
    timeout: 3000

# Add third reading (high - 180)
- tapOn:
    point: "50%,90%"
- waitForAnimationToEnd:
    timeout: 3000
- tapOn:
    point: "50%,35%"
- eraseText
- inputText: "180"
- hideKeyboard
- tapOn:
    point: "50%,85%"
- waitForAnimationToEnd:
    timeout: 3000

# Navigate back to dashboard to see updated stats
- tapOn:
    point: "10%,97%"
- waitForAnimationToEnd:
    timeout: 3000

# Capture updated stats
- takeScreenshot: maestro/screenshots/stats-02-updated.png

# CLEANUP
- stopApp

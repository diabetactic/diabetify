# ==========================================
# Test: Readings List Loads
# Description: Verify readings page loads correctly
# Uses shared navigation flow for consistent tab selection
# ==========================================

appId: io.diabetactic.app

---
# 1. LOGIN
- runFlow: ../../flows/login.yaml

# 2. NAVIGATE TO READINGS TAB
- runFlow: ../../flows/navigate-readings.yaml

# 3. VERIFY READINGS PAGE LOADED WITH DATA
# Wait for the count text that indicates data loaded
- extendedWaitUntil:
    visible:
      text: 'Mostrando.*lecturas|Showing.*readings'
    timeout: 8000

# 4. WAIT FOR READING STATUS TO APPEAR (network dependent)
- extendedWaitUntil:
    visible:
      text: 'Normal|Alto|Bajo|High|Low|NORMAL|ALTO|BAJO|HIGH|LOW'
    timeout: 10000
    optional: true

# 5. ASSERT PAGE HEADER IS VISIBLE
- assertVisible:
    text: 'Lecturas|Readings'

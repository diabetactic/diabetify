# ==========================================
# Test: Readings List Loads
# Description: Verify readings page loads correctly
# Uses shared navigation flow for consistent tab selection
# ==========================================

appId: io.diabetactic.app

---
# 1. LOGIN
- runFlow: ../../flows/login.yaml

# 2. NAVIGATE TO READINGS TAB
- runFlow: ../../flows/navigate-readings.yaml

# 3. VERIFY READINGS PAGE LOADED
- extendedWaitUntil:
    visible:
      text: 'Lecturas|Readings'
    timeout: 8000
- waitForAnimationToEnd:
    timeout: 2000

# 4. VERIFY PAGE CONTENT LOADED (either readings exist or empty state)
# If user has readings: Shows "Mostrando X lecturas" and status badges
# If user has no readings: Shows empty state message
- extendedWaitUntil:
    visible:
      text: 'Mostrando.*lecturas|Showing.*readings|No tienes lecturas|No readings|Sin lecturas|No data'
    timeout: 10000

# 5. ASSERT PAGE HEADER IS VISIBLE
- assertVisible:
    text: 'Lecturas|Readings'

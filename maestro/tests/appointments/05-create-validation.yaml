appId: io.diabetactic.app
tags:
  - appointments
  - validation
  - forms
---
# Test: Appointment creation validation
# Uses COORDINATE-BASED selectors

# Login
- runFlow:
    file: ../../flows/auth/login.yaml

# Navigate to Appointments
- tapOn:
    point: "70%,97%"
- waitForAnimationToEnd:
    timeout: 3000

- takeScreenshot: maestro/screenshots/appt-validation-01-list.png

# Open create form (FAB button)
- tapOn:
    point: "50%,90%"
- waitForAnimationToEnd:
    timeout: 3000

- takeScreenshot: maestro/screenshots/appt-validation-02-form-opened.png

# Test 1: Try to save with empty form
- scroll
- waitForAnimationToEnd:
    timeout: 2000

- tapOn:
    point: "50%,85%"
- waitForAnimationToEnd:
    timeout: 3000

- takeScreenshot: maestro/screenshots/appt-validation-03-empty-form.png

# Test 2: Fill minimum required fields
- swipe:
    direction: DOWN
    duration: 300
- waitForAnimationToEnd:
    timeout: 2000

# Fill title/description field
- tapOn:
    point: "50%,30%"
- eraseText
- inputText: "Consulta de control"
- hideKeyboard

- takeScreenshot: maestro/screenshots/appt-validation-04-partial-form.png

# Scroll and save
- scroll
- waitForAnimationToEnd:
    timeout: 2000

- tapOn:
    point: "50%,85%"
- waitForAnimationToEnd:
    timeout: 5000

- takeScreenshot: maestro/screenshots/appt-validation-05-result.png

# Return to appointments list
- tapOn:
    point: "70%,97%"
- waitForAnimationToEnd:
    timeout: 3000

# CLEANUP
- stopApp

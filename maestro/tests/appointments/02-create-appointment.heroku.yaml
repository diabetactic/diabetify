appId: io.diabetactic.app
tags:
  - appointments
  - heroku
  - backend
  - create
  - integration
---
# Test: Create Appointment via Heroku Backend
# Uses COORDINATE-BASED selectors

# Login
- runFlow:
    file: ../../flows/auth/login.yaml

# Navigate to Appointments tab
- tapOn:
    point: "70%,97%"
- waitForAnimationToEnd:
    timeout: 5000

# Wait for initial load
- waitForAnimationToEnd:
    timeout: 3000

# Tap Create Appointment button (FAB or header button)
- tapOn:
    point: "50%,90%"
- waitForAnimationToEnd:
    timeout: 3000

- takeScreenshot: maestro/screenshots/heroku/appointments/03-create-form.png

# Fill form fields using coordinates
# First field (title/glucose objective)
- tapOn:
    point: "50%,25%"
- eraseText
- inputText: "Control de rutina"
- hideKeyboard

# Scroll down to see more fields
- scroll
- waitForAnimationToEnd:
    timeout: 2000

# Fill notes field (if visible)
- tapOn:
    point: "50%,45%"
- inputText: "Revisi√≥n mensual"
- hideKeyboard

- takeScreenshot: maestro/screenshots/heroku/appointments/04-form-filled.png

# Submit appointment (scroll to bottom and tap save)
- scroll
- waitForAnimationToEnd:
    timeout: 2000

- tapOn:
    point: "50%,85%"
- waitForAnimationToEnd:
    timeout: 5000

- takeScreenshot: maestro/screenshots/heroku/appointments/05-create-result.png

# Verify we're back on appointments list
- tapOn:
    point: "70%,97%"
- waitForAnimationToEnd:
    timeout: 3000

- takeScreenshot: maestro/screenshots/heroku/appointments/06-final-list.png

# CLEANUP
- stopApp

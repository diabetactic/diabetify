# ==========================================
# Test: Appointments Page - Header and Navigation
# Description: Verify appointments page header with create button
# NOTE: Creating appointments requires ACCEPTED queue state.
#       This test verifies the page structure and navigation.
#       For full create flow, use Playwright against local Docker.
# ==========================================

appId: io.diabetactic.app

---
# 1. LOGIN
- runFlow: ../../flows/login.yaml

# 2. NAVIGATE TO APPOINTMENTS
- runFlow: ../../flows/navigate-appointments.yaml

# 3. VERIFY PAGE HEADER (Citas title)
- extendedWaitUntil:
    visible:
      text: 'Citas|Appointments'
    timeout: 8000

# 4. VERIFY QUEUE STATUS SECTION EXISTS
- extendedWaitUntil:
    visible:
      text: 'Estado de la Cola|Queue Status'
    timeout: 5000

# 5. NAVIGATE TO ANOTHER TAB AND BACK
- tapOn:
    text: 'Lecturas|Readings'
- waitForAnimationToEnd:
    timeout: 1500

- tapOn:
    text: 'Citas|Appointments'
- waitForAnimationToEnd:
    timeout: 1500

# 6. VERIFY APPOINTMENTS PAGE STILL LOADS
- assertVisible:
    text: 'Estado de la Cola|Queue Status'
# Test passes - appointments page navigation works correctly

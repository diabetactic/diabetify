# ==========================================
# Test: View Profile Information
# Description: Verify user can view profile page and interact with elements
# Uses shared navigation flow for profile tab
# Note: Profile page shows user info but editing may require specific UI elements
# ==========================================

appId: io.diabetactic.app

---
# 1. LOGIN
- runFlow: ../../flows/login.yaml

# 2. NAVIGATE TO PROFILE TAB
- runFlow: ../../flows/navigate-profile.yaml

# 3. VERIFY PROFILE PAGE LOADED WITH USER INFO
# Should see greeting with user's name or email
- extendedWaitUntil:
    visible:
      text: 'Perfil|Profile|Hola|Hello'
    timeout: 5000

# 4. VERIFY KEY PROFILE SECTIONS ARE VISIBLE
# Hero section with avatar and greeting
- assertVisible:
    text: '.*@.*|Miembro desde|Member since'
    optional: true

# 5. SCROLL DOWN TO SEE MORE CONTENT
- swipe:
    direction: UP
    duration: 500
- waitForAnimationToEnd:
    timeout: 1000

# 6. VERIFY PREFERENCES SECTION IS VISIBLE
- extendedWaitUntil:
    visible:
      text: 'Preferencias|Preferences'
    timeout: 5000

# 7. VERIFY SETTINGS OPTIONS ARE VISIBLE
- assertVisible:
    text: 'Tema|Theme'
- assertVisible:
    text: 'Idioma|Language'

# 8. SCROLL TO BOTTOM
- swipe:
    direction: UP
    duration: 500
- waitForAnimationToEnd:
    timeout: 1000

# 9. VERIFY ABOUT SECTION AND SIGN OUT BUTTON
- assertVisible:
    text: 'Acerca de|About'
    optional: true
- extendedWaitUntil:
    visible:
      text: 'Cerrar Sesi√≥n|Sign Out'
    timeout: 5000

# 10. TAP AGE EDIT BUTTON (if editable)
- swipe:
    direction: UP
    duration: 400
- waitForAnimationToEnd
- tapOn:
    text: 'Edad|Age'
    optional: true
- waitForAnimationToEnd:
    timeout: 1000

# 11. CLOSE ANY DIALOG THAT OPENED
- tapOn:
    text: 'Cancelar|Cancel|Cerrar|Close'
    optional: true
- waitForAnimationToEnd


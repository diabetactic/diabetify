# ==========================================
# Flow: Navigate to Readings Tab
# Description: Navigate from any screen to readings tab
# Prerequisite: Must be logged in
# Uses text selector (data-testid not accessible in Capacitor WebView)
# ==========================================

appId: io.diabetactic.app

---
# 1. TAP ON READINGS TAB (bilingual text selector)
- tapOn:
    text: 'Lecturas|Readings'
- waitForAnimationToEnd

# 2. WAIT FOR READINGS PAGE HEADER TO LOAD
- extendedWaitUntil:
    visible:
      text: 'Lecturas|Readings'
    timeout: 8000

# 3. WAIT FOR LOADING TO COMPLETE
- extendedWaitUntil:
    notVisible:
      text: 'Cargando lecturas|Loading readings'
    timeout: 30000
- waitForAnimationToEnd:
    timeout: 2000

# 4. VERIFY CONTENT IS VISIBLE (readings list or empty state)
- extendedWaitUntil:
    visible:
      text: 'Mostrando.*lecturas|Showing.*readings|Sin lecturas|No readings'
    timeout: 10000
- waitForAnimationToEnd:
    timeout: 1000

# ==========================================
# Flow: Login Form Steps
# Description: Performs the actual login form interaction.
#              Called conditionally when login form is visible.
# Env vars defined here (config.yaml inheritance unreliable in flows)
# ==========================================

appId: io.diabetactic.app

env:
  TEST_USER_ID: '1000'
  TEST_USER_PASSWORD: 'tuvieja'

---
# 1. INPUT USERNAME - use native id attribute (not data-testid)
- tapOn:
    id: 'username'
- eraseText
- inputText: '${TEST_USER_ID}'
- hideKeyboard

# 2. INPUT PASSWORD - use native id attribute (not data-testid)
- tapOn:
    id: 'password'
- eraseText
- inputText: '${TEST_USER_PASSWORD}'
- hideKeyboard

# 3. SUBMIT LOGIN - native id matches data-testid
- tapOn:
    id: 'login-submit-btn'
- waitForAnimationToEnd:
    timeout: 2000

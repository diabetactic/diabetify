# ==========================================
# Flow: Login Form Steps
# Description: Performs the actual login form interaction.
#              Called conditionally when login form is visible.
# Uses .* wildcards for bilingual support with special chars
# ==========================================

appId: io.diabetactic.app

env:
  TEST_USER_ID: '1000'
  TEST_USER_PASSWORD: 'tuvieja'

---
# 1. INPUT USERNAME - tap on label since IDs may not work in WebView
- tapOn:
    text: '.*DNI.*|.*Usuario.*|.*Username.*'
- eraseText
- inputText: '${TEST_USER_ID}'
- hideKeyboard

# 2. INPUT PASSWORD - tap on label
- tapOn:
    text: '.*Contrase.*|.*Password.*'
- eraseText
- inputText: '${TEST_USER_PASSWORD}'
- hideKeyboard

# 3. SUBMIT LOGIN
- tapOn:
    text: '.*Iniciar.*Sesi.*|.*Sign.*In.*|.*Log.*In.*|.*Ingresar.*'
- waitForAnimationToEnd:
    timeout: 2000

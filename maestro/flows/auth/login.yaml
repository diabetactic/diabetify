appId: io.diabetactic.app
---
# Reusable Flow: Authentication Login
# Uses COORDINATE-BASED selectors (WebView text not accessible to Maestro)
# Mock mode has pre-filled credentials (1000/tuvieja)

# NOTE: App launch handled by run-maestro-clean.sh script (API 36 workaround)
# Wait for app to be ready
- waitForAnimationToEnd:
    timeout: 5000

# Tap login button on welcome screen (bottom of screen ~95%)
- tapOn:
    point: "50%,95%"
- waitForAnimationToEnd:
    timeout: 3000

# Now on login page - form is pre-filled in mock mode
# Swipe up to ensure button is visible
- swipe:
    direction: UP
    duration: 300
- waitForAnimationToEnd:
    timeout: 2000

# Tap submit button (around 60% after scroll)
- tapOn:
    point: "50%,60%"

# Wait for login and navigation to complete
- waitForAnimationToEnd:
    timeout: 5000

- takeScreenshot: maestro/screenshots/login-success.png

# ═══════════════════════════════════════════════════
# Maestro Environment Configuration - Local Backend
# ═══════════════════════════════════════════════════
# Tests against local backend running on localhost
# Run tests: maestro test --env-file config/environments/local.yaml
# Or with tags: maestro test --include-tags local
#
# Prerequisites:
# - Start local backend: docker-compose up -d (or npm start in backend directory)
# - Ensure backend is accessible at http://localhost:3000

# ───────────────────────────────────────────────────
# Backend Configuration
# ───────────────────────────────────────────────────
ENV_MODE: local
BACKEND_URL: http://localhost:3000
BACKEND_MODE: local
USE_MOCK_ADAPTER: "false"
USE_HEROKU_API: "false"
USE_LOCAL_BACKEND: "true"

# ───────────────────────────────────────────────────
# Local API Settings
# ───────────────────────────────────────────────────
LOCAL_GATEWAY_URL: "http://localhost:3000"
API_GATEWAY_TIMEOUT: "15000"  # 15 seconds
MAX_RETRIES: "2"
RETRY_DELAY: "500"  # 500ms between retries

# Alternative local backends (uncomment as needed)
# LOCAL_GATEWAY_URL: "http://10.0.2.2:3000"  # Android emulator host
# LOCAL_GATEWAY_URL: "http://host.docker.internal:3000"  # Docker host

# ───────────────────────────────────────────────────
# Test User Credentials (Local dev user)
# ───────────────────────────────────────────────────
TEST_USER_EMAIL: "dev@localhost.com"
TEST_USER_PASSWORD: "dev123"
TEST_USER_DNI: "1000"
TEST_USER_PASS: "tuvieja"

# ───────────────────────────────────────────────────
# Health Check & Monitoring
# ───────────────────────────────────────────────────
LOCAL_HEALTH_CHECK_ENDPOINT: "/health"
LOCAL_HEALTH_CHECK_TIMEOUT: "3000"
CHECK_BACKEND_HEALTH_BEFORE_TESTS: "true"

# ───────────────────────────────────────────────────
# Timeouts (moderate for local API)
# ───────────────────────────────────────────────────
DEFAULT_TIMEOUT: "10000"
ANIMATION_TIMEOUT: "2000"
DATA_LOAD_TIMEOUT: "10000"
LOGIN_TIMEOUT: "8000"

# ───────────────────────────────────────────────────
# Network Settings
# ───────────────────────────────────────────────────
EXPECT_NETWORK_DELAYS: "false"
ALLOW_SLOW_RESPONSES: "false"
FAST_LOCAL_MODE: "true"

# ───────────────────────────────────────────────────
# Development Settings
# ───────────────────────────────────────────────────
# Enable verbose logging for local development
VERBOSE_LOGGING: "true"
DEBUG_API_CALLS: "true"
CAPTURE_NETWORK_LOGS: "true"

# Database reset (use with caution)
RESET_DATABASE_BEFORE_TESTS: "false"  # Set to true to reset local DB before each run

# ───────────────────────────────────────────────────
# Description
# ───────────────────────────────────────────────────
DESCRIPTION: "Tests using local backend on localhost:3000. Ideal for development, debugging, and testing backend changes before deployment. Requires local backend running."
